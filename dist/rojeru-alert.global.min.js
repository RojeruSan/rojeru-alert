/*!
 * RojeruAlert v1.0.4
 * https://github.com/rojerusan/rojeru-alert
 * (c) 2025 Rogelio Urieta Camacho (RojeruSan)
 * Released under the MIT License
  * MIT License
 *
 * Copyright (c) 2025 Rogelio Urieta Camacho (RojeruSan)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var RojeruAlert=function(e){"use strict";class t{constructor(){this.overlay=null,this.queue=[],this.isActive=!1,this.timeoutIds=new Set,this.alertStack=[],this.stackPosition={top:20,right:20},this.plugins={},this.language="en",this.soundsEnabled=!0,this.texts={es:{accept:"Aceptar",cancel:"Cancelar",confirm:"¿Estás seguro?",continue:"Sí, continuar",loading:"Cargando...",enterValue:"Ingresa un valor",writeHere:"Escribe aquí...",submit:"Enviar",processing:"Procesando...",countdown:"Cuenta Regresiva",timeCompleted:"¡Tiempo completado!",validationError:"Error de validación"},en:{accept:"OK",cancel:"Cancel",confirm:"Are you sure?",continue:"Yes, continue",loading:"Loading...",enterValue:"Enter a value",writeHere:"Write here...",submit:"Submit",processing:"Processing...",countdown:"Countdown",timeCompleted:"Time completed!",validationError:"Validation error"}},this.customThemes={},this.init()}init(){document.getElementById("rojeru-alert-overlay")?this.overlay=document.getElementById("rojeru-alert-overlay"):(this.overlay=document.createElement("div"),this.overlay.id="rojeru-alert-overlay",document.body.appendChild(this.overlay)),this.sounds={success:this.createSound(523,.3),error:this.createSound(349,.4),warning:this.createSound(392,.3),info:this.createSound(440,.2),question:this.createSound(494,.3)}}createSound(e,t){return()=>{if(this.soundsEnabled)try{const n=new(window.AudioContext||window.webkitAudioContext),o=n.createOscillator(),r=n.createGain();o.connect(r),r.connect(n.destination),o.frequency.value=e,o.type="sine",r.gain.setValueAtTime(.3,n.currentTime),r.gain.exponentialRampToValueAtTime(.01,n.currentTime+t),o.start(n.currentTime),o.stop(n.currentTime+t)}catch(e){console.warn("Could not play sounds:",e)}}}t(e){return this.texts[this.language]?.[e]||e}changeLanguage(e){return this.texts[e]&&(this.language=e),this}enableSounds(e=!0){return this.soundsEnabled=e,this}show(e={}){return new Promise(t=>{const n={...e,resolve:t};this.queue.push(n),this.isActive||this.processQueue()})}processQueue(){if(0===this.queue.length)return void(this.isActive=!1);this.isActive=!0;const e=this.queue[0];this.showAlert(e)}showAlert(e={}){const{title:t="",message:n="",type:o="info",theme:r="light",showCancel:s=!1,confirmButtonText:i=("question"===o?this.t("continue"):this.t("accept")),cancelButtonText:a=this.t("cancel"),closeOnClickOutside:l=!0,autoClose:c=0,showProgress:u=!1,enterAnimation:d="zoom",exitAnimation:h="zoom",playSound:f=!0,onOpen:m=null,callback:p=null,resolve:g=null}=e;f&&this.sounds[o]&&this.sounds[o](),this.overlay.innerHTML="",this.overlay.className="";const w={success:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="12" cy="12" r="10" fill="#10B981" opacity="0.15"/>\n                <path d="M8 12.5L10.5 15L16 9" stroke="#10B981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>',error:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <circle cx="12" cy="12" r="10" fill="#EF4444" opacity="0.15"/>\n              <path d="M15 9L9 15M9 9l6 6" stroke="#EF4444" stroke-width="2.5" stroke-linecap="round"/>\n            </svg>',warning:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="12" cy="12" r="10" fill="#F59E0B" opacity="0.15"/>\n                <path d="M12 8v4M12 16h0.01" stroke="#F59E0B" stroke-width="2.5" stroke-linecap="round"/>\n              </svg>',info:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n             <circle cx="12" cy="12" r="10" fill="#3B82F6" opacity="0.15"/>\n             <path d="M12 16v-4M12 8h0.01" stroke="#3B82F6" stroke-width="2.5" stroke-linecap="round"/>\n           </svg>',question:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <circle cx="12" cy="12" r="10" fill="#8B5CF6" opacity="0.15"/>\n                  <path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3M12 16.5v.01" stroke="#8B5CF6" stroke-width="2.5" stroke-linecap="round"/>\n                </svg>'},y={success:"Perfect!",error:"Something went wrong",warning:"Attention",info:"Important information",question:this.t("confirm")};let v="";s&&(v+=`<button class="rojeru-alert-button cancel" data-focus="true">${a}</button>`),i&&(v+=`<button class="rojeru-alert-button confirm" data-focus="${!s}">${i}</button>`);const b=c>0&&u?`<div class="rojeru-alert-progress">\n                <div class="rojeru-alert-progress-bar" style="animation-duration: ${c}ms"></div>\n            </div>`:"",x=document.createElement("div");let k;x.className=`rojeru-alert-container rojeru-alert-${o} theme-${r} animation-${d}`,c>0&&u&&x.classList.add("with-progress"),x.innerHTML=`\n            ${w[o]}\n            ${b}\n            <h2 class="rojeru-alert-title">${t||y[o]}</h2>\n            <p class="rojeru-alert-text">${n||{success:"Your action was completed successfully.",error:"There was a problem. Please try again.",warning:"This action is irreversible.",info:"Remember to check the details before continuing.",question:"Are you sure you want to continue?"}[o]}</p>\n            <div class="rojeru-alert-buttons">\n                ${v}\n            </div>\n        `,this.overlay.appendChild(x),this.overlay.offsetWidth,this.overlay.classList.add("active"),x.classList.add("entering"),m&&"function"==typeof m&&setTimeout(()=>{m()},600),c>0&&(k=setTimeout(()=>{this.finalizeAlert(p,g,!0,h)},c),this.timeoutIds.add(k));const $=e=>{l&&e.target===this.overlay&&(k&&(clearTimeout(k),this.timeoutIds.delete(k)),this.finalizeAlert(p,g,!1,h))};l&&this.overlay.addEventListener("click",$);const j=x.querySelector(".confirm"),E=x.querySelector(".cancel");setTimeout(()=>{const e=x.querySelector('[data-focus="true"]');e&&e.focus()},100);const T=()=>{l&&this.overlay.removeEventListener("click",$),k&&(clearTimeout(k),this.timeoutIds.delete(k)),document.removeEventListener("keydown",S)},S=e=>{switch(e.key){case"Escape":e.preventDefault(),T(),E?E.click():this.finalizeAlert(p,g,!1,h);break;case"Enter":e.preventDefault(),j&&j.click();break;case"Tab":e.preventDefault(),this.changeButtonFocus(j,E)}};document.addEventListener("keydown",S),j&&j.addEventListener("click",()=>{T(),this.finalizeAlert(p,g,!0,h)}),E&&E.addEventListener("click",()=>{T(),this.finalizeAlert(p,g,!1,h)})}changeButtonFocus(e,t){const n=document.activeElement;n.classList.contains("rojeru-alert-button")&&n===e&&t?t.focus():e&&e.focus()}finalizeAlert(e,t,n,o="zoom"){const r=this.overlay.querySelector(".rojeru-alert-container");r&&(r.className=r.className.replace(/animation-\w+/,`animation-${o}`),r.classList.add("exiting"),setTimeout(()=>{this.overlay.classList.remove("active"),this.overlay.innerHTML="","function"==typeof e&&e(n),"function"==typeof t&&t(n),this.queue.shift(),setTimeout(()=>this.processQueue(),100)},400))}showEffect(e,t=null){const n=t||document.body;switch(e){case"confetti":this.createConfetti(n);break;case"shine":this.createShineEffect(n);break;case"success":this.createSuccessEffect(n);break;case"pulse":this.createPulseEffect(n);break;case"stars":this.createStarsEffect(n);break;case"fireworks":this.createFireworks(n)}}createConfetti(e){const t=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ff8000","#8000ff"];for(let e=0;e<150;e++){const e=document.createElement("div");e.className="rojeru-alert-confetti";const n=Math.random()*window.innerWidth,o=-20,r=12*Math.random()+6,s=t[Math.floor(Math.random()*t.length)],i=360*Math.random(),a=3*Math.random()+2,l=1.5*Math.random(),c=200*Math.random()-100;e.style.cssText=`\n                position: fixed;\n                width: ${r}px;\n                height: ${r}px;\n                background: ${s};\n                top: ${o}px;\n                left: ${n}px;\n                border-radius: ${Math.random()>.5?"50%":"2px"};\n                opacity: 0.9;\n                animation: rojeru-alert-confetti-fall ${a}s ease-in ${l}s forwards;\n                z-index: 10001;\n                pointer-events: none;\n                transform: rotate(${i}deg);\n                box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n            `,e.setAttribute("data-end-x",c),document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},1e3*(a+l))}}createShineEffect(e){for(let t=0;t<3;t++){const n=document.createElement("div");n.className="rojeru-alert-shine-ring";const o=100+50*t,r=1.5+.3*t,s=.2*t;n.style.cssText=`\n                position: absolute;\n                width: ${o}px;\n                height: ${o}px;\n                border: 3px solid #3b82f6;\n                border-radius: 50%;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                opacity: 0;\n                animation: rojeru-alert-shine-expand ${r}s ease-out ${s}s forwards;\n                pointer-events: none;\n                z-index: 1;\n            `,e&&e.classList.contains("rojeru-alert-container")&&(e.style.position="relative",e.appendChild(n),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},1e3*(r+s)))}e&&(e.classList.add("rojeru-alert-shining"),setTimeout(()=>{e.classList.remove("rojeru-alert-shining")},2e3))}createSuccessEffect(e){const t=["#10b981","#34d399","#6ee7b7","#a7f3d0"];for(let e=0;e<25;e++){const n=document.createElement("div");n.className="rojeru-alert-success-particle";const o=e/25*Math.PI*2,r=80+40*Math.random(),s=.8+.7*Math.random(),i=.3*Math.random(),a=6+8*Math.random(),l=t[Math.floor(Math.random()*t.length)],c=Math.cos(o)*r,u=Math.sin(o)*r;n.style.cssText=`\n                position: fixed;\n                width: ${a}px;\n                height: ${a}px;\n                background: ${l};\n                border-radius: 50%;\n                top: 50%;\n                left: 50%;\n                opacity: 0;\n                animation: rojeru-alert-success-explosion ${s}s ease-out ${i}s forwards;\n                z-index: 10001;\n                pointer-events: none;\n                box-shadow: 0 0 10px ${l};\n                transform: translate(0, 0);\n            `,n.setAttribute("data-target-x",c),n.setAttribute("data-target-y",u),document.body.appendChild(n),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},1e3*(s+i))}}createPulseEffect(e){if(e){const t=2;for(let n=0;n<t;n++){const t=document.createElement("div");t.className="rojeru-alert-pulse-wave";const o=.4*n;t.style.cssText=`\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    border: 2px solid #f59e0b;\n                    border-radius: 20px;\n                    opacity: 0;\n                    animation: rojeru-alert-pulse-wave-animation 1.2s ease-out ${o}s forwards;\n                    pointer-events: none;\n                    z-index: 1;\n                `,e.style.position="relative",e.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},1200+1e3*o)}e.classList.add("rojeru-alert-pulsing"),setTimeout(()=>{e.classList.remove("rojeru-alert-pulsing")},3e3)}}createStarsEffect(e){const t=["#ffd700","#ffffff","#ff6b6b","#4ecdc4"];for(let n=0;n<15;n++){const n=document.createElement("div");n.className="rojeru-alert-star";const o=Math.random()*Math.PI*2,r=60+40*Math.random(),s=1+1*Math.random(),i=.5*Math.random(),a=4+6*Math.random(),l=t[Math.floor(Math.random()*t.length)],c=Math.cos(o)*r,u=Math.sin(o)*r;n.style.cssText=`\n                position: absolute;\n                width: ${a}px;\n                height: ${a}px;\n                background: ${l};\n                border-radius: 50%;\n                top: 50%;\n                left: 50%;\n                opacity: 0;\n                animation: rojeru-alert-star-twinkle ${s}s ease-in-out ${i}s forwards;\n                z-index: 2;\n                pointer-events: none;\n                box-shadow: 0 0 8px ${l};\n                transform: translate(${c}px, ${u}px) scale(0);\n            `,e.classList.contains("rojeru-alert-container")&&(e.style.position="relative",e.appendChild(n),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},1e3*(s+i)))}}createFireworks(e){for(let e=0;e<5;e++)setTimeout(()=>{const e=100+Math.random()*(window.innerWidth-200),t=100+Math.random()*(window.innerHeight-200);this.createFirework(e,t)},300*e)}createFirework(e,t){const n=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"];for(let o=0;o<30;o++){const r=document.createElement("div");r.className="rojeru-alert-firework-particle";const s=o/30*Math.PI*2,i=40+30*Math.random(),a=1+.5*Math.random(),l=3+4*Math.random(),c=n[Math.floor(Math.random()*n.length)],u=Math.cos(s)*i,d=Math.sin(s)*i;r.style.cssText=`\n                position: fixed;\n                width: ${l}px;\n                height: ${l}px;\n                background: ${c};\n                border-radius: 50%;\n                top: ${t}px;\n                left: ${e}px;\n                opacity: 0;\n                animation: rojeru-alert-firework-explosion ${a}s ease-out forwards;\n                z-index: 10001;\n                pointer-events: none;\n                box-shadow: 0 0 6px ${c};\n                transform: translate(0, 0);\n            `,r.setAttribute("data-target-x",u),r.setAttribute("data-target-y",d),document.body.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},1e3*a)}}successWithConfetti(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"success",theme:"string"==typeof o?o:"light",callback:r,onOpen:()=>{this.showEffect("confetti"),this.showEffect("success")},...s})}infoWithShine(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"info",theme:"string"==typeof o?o:"light",callback:r,onOpen:()=>{const e=this.overlay.querySelector(".rojeru-alert-container");e&&(this.showEffect("shine",e),this.showEffect("stars",e))},...s})}warningWithPulse(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"warning",theme:"string"==typeof o?o:"light",callback:r,onOpen:()=>{const e=this.overlay.querySelector(".rojeru-alert-container");e&&this.showEffect("pulse",e)},...s})}successWithFireworks(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"success",theme:"string"==typeof o?o:"light",callback:r,onOpen:()=>{this.showEffect("fireworks"),this.showEffect("success")},...s})}toast(e,t=3e3,n="info",o="light"){return this.show({title:"",message:e,type:n,theme:o,showCancel:!1,confirmButtonText:"",closeOnClickOutside:!0,autoClose:t,showProgress:!0,enterAnimation:"slide",exitAnimation:"fade"})}loading(e="",t=this.t("loading"),n="light",o={}){const{type:r="info",size:s="medium"}=o,i={small:"30px",medium:"50px",large:"70px"};return this.show({title:e,message:`\n            <div class="rojeru-alert-loading-container">\n                <div class="rojeru-alert-spinner" style="width: ${i[s]}; height: ${i[s]};"></div>\n                <div class="rojeru-alert-loading-text">${t}</div>\n            </div>\n        `,type:r,theme:n,showCancel:!1,confirmButtonText:"",closeOnClickOutside:!1,enterAnimation:"fade",playSound:!1})}updateLoading(e,t=null){const n=this.overlay.querySelector(".rojeru-alert-loading-container");if(n){const o=n.querySelector(".rojeru-alert-loading-percentage"),r=n.querySelector(".rojeru-alert-loading-text");o&&(o.textContent=`${Math.min(100,Math.max(0,e))}%`),t&&r&&(r.textContent=t)}}prompt(e={},t=null){const{title:n=this.t("enterValue"),message:o="",defaultValue:r="",placeholder:s=this.t("writeHere"),type:i="info",theme:a="light",validation:l=null}=e;return new Promise(e=>{let c=r,u=!1;const d="rojeru-alert-prompt-input-"+Date.now(),h={title:n,message:`${o}<div class="rojeru-alert-input-container">\n                <input type="text" id="${d}" class="rojeru-alert-input"\n                       value="${r}" placeholder="${s}"\n                       autocomplete="off">\n            </div>`,type:i,theme:a,showCancel:!0,confirmButtonText:this.t("accept"),cancelButtonText:this.t("cancel"),closeOnClickOutside:!1,callback:n=>{if(u)return!1;if(n&&l&&"function"==typeof l){const e=l(c);if(!0!==e)return setTimeout(()=>{this.error(this.t("validationError"),e)},50),!1}return u=!0,"function"==typeof t&&t(n,c),setTimeout(()=>{e({confirmed:n,value:c})},0),!0}};this.show(h),setTimeout(()=>{const e=document.getElementById(d);if(e){const t=()=>{c=e.value};e.addEventListener("input",t),e.addEventListener("change",t),e.addEventListener("blur",t),c=e.value,e.addEventListener("keydown",t=>{if("Enter"===t.key){t.preventDefault(),t.stopPropagation(),c=e.value;const n=this.overlay.querySelector(".rojeru-alert-button.confirm");n&&n.click()}if("Escape"===t.key){t.preventDefault(),t.stopPropagation();const e=this.overlay.querySelector(".rojeru-alert-button.cancel");e&&e.click()}}),["click","mousedown","touchstart"].forEach(t=>{e.addEventListener(t,e=>{e.stopPropagation()})}),e.focus(),e.select()}},150)})}form(e={}){const{title:t="Form",fields:n=[],confirmButtonText:o=this.t("submit"),validation:r=null,theme:s="light",...i}=e;return new Promise(e=>{const i="rojeru-form-"+Date.now();let a={},l=!1,c="";const u=[];n.forEach((e,t)=>{const n=`${i}-field-${t}`;u.push(n);const o=e.type||"text";if("textarea"===o)c+=`\n                    <div class="rojeru-alert-field">\n                        <label for="${n}">${e.label}</label>\n                        <textarea id="${n}"\n                               name="${e.name||n}"\n                               placeholder="${e.placeholder||""}"\n                               ${e.required?"required":""}\n                               class="rojeru-alert-input rojeru-alert-textarea"\n                               rows="${e.rows||4}">${e.value||""}</textarea>\n                    </div>\n                `;else if("select"===o){let t="";e.options&&Array.isArray(e.options)&&e.options.forEach(n=>{const o=n.value===e.value?"selected":"";t+=`<option value="${n.value}" ${o}>${n.label}</option>`}),c+=`\n                    <div class="rojeru-alert-field">\n                        <label for="${n}">${e.label}</label>\n                        <select id="${n}"\n                               name="${e.name||n}"\n                               ${e.required?"required":""}\n                               class="rojeru-alert-input rojeru-alert-select">\n                            ${t}\n                        </select>\n                    </div>\n                `}else{const t="checkbox"===o||"radio"===o?o:"text",r=e.value?"checked":"";c+=`\n                    <div class="rojeru-alert-field">\n                        <label for="${n}">${e.label}</label>\n                        <input type="${t}"\n                               id="${n}"\n                               name="${e.name||n}"\n                               placeholder="${e.placeholder||""}"\n                               value="${e.value||""}"\n                               ${e.required?"required":""}\n                               ${r}\n                               class="rojeru-alert-input">\n                    </div>\n                `}});const d={title:t,message:`<form id="${i}" class="rojeru-alert-form">${c}</form>`,type:"info",theme:s,showCancel:!0,confirmButtonText:o,closeOnClickOutside:!1,callback:t=>{if(l)return!1;if(!t)return l=!0,e({confirmed:!1,data:{}}),!0;const o={...a};let s=!0,i="",c=null;if(n.forEach((e,t)=>{const n=u[t],r=o[e.name||n]||"";if(e.required&&!r.toString().trim()&&(s=!1,c=n,i=e.errorMessage||`${e.label} es requerido`),s&&e.validation&&"function"==typeof e.validation){const t=e.validation(r);!0!==t&&(s=!1,c=n,i=t)}}),s&&r&&"function"==typeof r){const e=r(o);!0!==e&&(s=!1,i=e)}return s?(l=!0,e({confirmed:!0,data:o}),!0):(setTimeout(()=>{if(this.error(this.t("validationError"),i),c){const e=document.getElementById(c);e&&(e.classList.add("error"),e.focus(),setTimeout(()=>{e.classList.remove("error")},3e3))}},50),!1)}};this.show(d),setTimeout(()=>{const e=document.getElementById(i);if(!e)return;n.forEach((t,n)=>{const o=u[n],r=e.querySelector(`#${o}`);if(r){const e="checkbox"===r.type?r.checked:r.value;a[t.name||o]=e;const n=()=>{const e="checkbox"===r.type?r.checked:r.value;a[t.name||o]=e};r.addEventListener("input",n),r.addEventListener("change",n),r.addEventListener("blur",n),"checkbox"!==r.type&&"radio"!==r.type||r.addEventListener("click",n)}}),e.querySelectorAll("input, textarea, select").forEach(e=>{["click","mousedown","touchstart"].forEach(t=>{e.addEventListener(t,e=>{e.stopPropagation()})}),e.addEventListener("keydown",e=>{if(e.stopPropagation(),"Enter"===e.key&&(e.ctrlKey||e.metaKey)){e.preventDefault();const t=this.overlay.querySelector(".rojeru-alert-button.confirm");t&&t.click()}"Tab"===e.key&&e.stopPropagation()})});const t=e.querySelector("input, textarea, select");t&&(t.focus(),"INPUT"===t.tagName&&"text"===t.type&&t.select()),e.addEventListener("submit",t=>{t.preventDefault(),t.stopPropagation(),n.forEach((t,n)=>{const o=u[n],r=e.querySelector(`#${o}`);r&&(a[t.name||o]="checkbox"===r.type?r.checked:r.value)});const o=this.overlay.querySelector(".rojeru-alert-button.confirm");o&&o.click()});const o=this.overlay.querySelector(".rojeru-alert-button.confirm"),r=this.overlay.querySelector(".rojeru-alert-button.cancel");o&&(o.onclick,o.onclick=null,o.addEventListener("click",t=>{t.stopPropagation(),n.forEach((t,n)=>{const o=u[n],r=e.querySelector(`#${o}`);r&&(a[t.name||o]="checkbox"===r.type?r.checked:r.value)})})),r&&r.addEventListener("click",e=>{e.stopPropagation(),a={}})},150)})}progress(e={}){const{title:t=this.t("processing"),message:n="",duration:o=5e3,onProgress:r=null}=e;return new Promise(e=>{let s=0;const i=100/(o/50),a={title:t,message:`\n                    <div class="rojeru-alert-progress-container">\n                        <div class="rojeru-alert-progress-bar-container">\n                            <div class="rojeru-alert-progress-fill" style="width: 0%"></div>\n                        </div>\n                        <div class="rojeru-alert-progress-text">0%</div>\n                        ${n?`<div class="rojeru-alert-progress-message">${n}</div>`:""}\n                    </div>\n                `,type:"info",showCancel:!1,confirmButtonText:"",closeOnClickOutside:!1,enterAnimation:"fade",playSound:!1};this.show(a);const l=setInterval(()=>{s+=i,s>=100&&(s=100,clearInterval(l),setTimeout(()=>{this.close(),e({completed:!0,progress:100})},500));const t=this.overlay.querySelector(".rojeru-alert-progress-fill"),n=this.overlay.querySelector(".rojeru-alert-progress-text");t&&(t.style.width=s+"%"),n&&(n.textContent=Math.round(s)+"%"),r&&r(s)},50)})}countdown(e={}){const{title:t=this.t("countdown"),seconds:n=10,onTick:o=null,message:r="",completionMessage:s=this.t("timeCompleted")}=e;let i=n;return new Promise(e=>{const s={title:t,message:`\n                    <div class="rojeru-alert-countdown">\n                        <div class="rojeru-alert-time">${i}s</div>\n                        ${r?`<div class="rojeru-alert-message">${r}</div>`:""}\n                    </div>\n                `,type:"warning",showCancel:!0,confirmButtonText:this.t("cancel"),autoClose:1e3*n,callback:t=>{e(t?{completed:!1,timeRemaining:i}:{completed:!0,timeRemaining:0})}};this.show(s);const a=setInterval(()=>{i--;const e=this.overlay.querySelector(".rojeru-alert-time");e&&(e.textContent=i+"s",i<=5&&e.classList.add("urgent")),o&&o(i),i<=0&&clearInterval(a)},1e3)})}stack(e={}){const{message:t="",type:n="info",theme:o="light",autoClose:r=5e3,position:s="top-right",enterAnimation:i="slide",exitAnimation:a="fade"}=e,l="rojeru-stack-"+Date.now(),c=document.createElement("div");return c.className=`rojeru-alert-stack-item rojeru-alert-${n} theme-${o} animation-${i}`,c.id=l,c.innerHTML=`\n            <div class="rojeru-alert-stack-content">\n                <span class="rojeru-alert-stack-message">${t}</span>\n                <button class="rojeru-alert-stack-close">&times;</button>\n            </div>\n        `,this.updateStackPosition(s,c),document.body.appendChild(c),setTimeout(()=>c.classList.add("entering"),10),c.querySelector(".rojeru-alert-stack-close").addEventListener("click",()=>{this.closeStackItem(l,a)}),r>0&&setTimeout(()=>{this.closeStackItem(l,a)},r),this.alertStack.push(l),l}updateStackPosition(e,t){const n={"top-right":{top:"20px",right:"20px",left:"auto"},"top-left":{top:"20px",left:"20px",right:"auto"},"bottom-right":{bottom:"20px",right:"20px",left:"auto"},"bottom-left":{bottom:"20px",left:"20px",right:"auto"}};Object.assign(t.style,n[e]||n["top-right"])}closeStackItem(e,t){const n=document.getElementById(e);n&&(n.classList.add("exiting"),setTimeout(()=>{n.remove(),this.alertStack=this.alertStack.filter(t=>t!==e)},400))}registerTheme(e,t){return this.customThemes[e]=t,this.applyThemeStyles(e,t),this}applyThemeStyles(e,t){const n=`rojeru-theme-${e}`;if(document.getElementById(n))return;const o=document.createElement("style");o.id=n,o.textContent=`\n            .rojeru-alert-container.theme-${e} {\n                background: ${t.background};\n                color: ${t.text};\n                border: ${t.border||"none"};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-title {\n                color: ${t.title||t.text};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-text {\n                color: ${t.subtext||t.text};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-button.confirm {\n                background: ${t.primaryButton};\n                color: ${t.buttonText||"white"};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-button.cancel {\n                background: ${t.secondaryButton||"#f1f5f9"};\n                color: ${t.secondaryButtonText||"#475569"};\n            }\n        `,document.head.appendChild(o)}use(e,t={}){return"function"==typeof e.install&&(e.install(this,t),this.plugins[e.name]={plugin:e,options:t}),this}close(){this.finalizeAlert(null,null,!1,"zoom")}clearQueue(){return this.queue=[],this.isActive=!1,this}getQueueLength(){return this.queue.length}clearTimeouts(){return this.timeoutIds.forEach(e=>{clearTimeout(e)}),this.timeoutIds.clear(),this}clearAllStack(){return this.alertStack.forEach(e=>{const t=document.getElementById(e);t&&t.remove()}),this.alertStack=[],this}success(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"success",theme:"string"==typeof o?o:"light",callback:r,...s})}error(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"error",theme:"string"==typeof o?o:"light",callback:r,...s})}warning(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"warning",theme:"string"==typeof o?o:"light",callback:r,...s})}info(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"info",theme:"string"==typeof o?o:"light",callback:r,...s})}question(e="",t="",n={},o="light"){let r=null,s={};return"function"==typeof n?r=n:"object"==typeof n&&(s=n,r=o),this.show({title:e,message:t,type:"question",theme:"string"==typeof o?o:"light",showCancel:!0,callback:r,...s})}static show(e={}){return(new t).show(e)}static success(e="",n="",o={},r="light"){return(new t).success(e,n,o,r)}static error(e="",n="",o={},r="light"){return(new t).error(e,n,o,r)}static warning(e="",n="",o={},r="light"){return(new t).warning(e,n,o,r)}static info(e="",n="",o={},r="light"){return(new t).info(e,n,o,r)}static question(e="",n="",o={},r="light"){return(new t).question(e,n,o,r)}static toast(e,n=3e3,o="info",r="light"){return(new t).toast(e,n,o,r)}static prompt(e={},n=null){return(new t).prompt(e,n)}static form(e={}){return(new t).form(e)}static stack(e={}){return(new t).stack(e)}static progress(e={}){return(new t).progress(e)}static countdown(e={}){return(new t).countdown(e)}static successWithConfetti(e="",n="",o={},r="light"){return(new t).successWithConfetti(e,n,o,r)}static infoWithShine(e="",n="",o={},r="light"){return(new t).infoWithShine(e,n,o,r)}static warningWithPulse(e="",n="",o={},r="light"){return(new t).warningWithPulse(e,n,o,r)}static successWithFireworks(e="",n="",o={},r="light"){return(new t).successWithFireworks(e,n,o,r)}static showEffect(e,n=null){(new t).showEffect(e,n)}}const n={name:"analytics",install:(e,t)=>{const n=e.show.bind(e);e.show=function(e){return e.tracking&&console.log("Alert shown:",{type:e.type,timestamp:(new Date).toISOString(),...e.metadata}),n(e)}}},o="1.0.6",r=new t,s=e=>t.show(e),i=(e,n,o,r)=>t.success(e,n,o,r),a=(e,n,o,r)=>t.error(e,n,o,r),l=(e,n,o,r)=>t.warning(e,n,o,r),c=(e,n,o,r)=>t.info(e,n,o,r),u=(e,n,o,r)=>t.question(e,n,o,r),d=(e,n,o,r)=>t.toast(e,n,o,r),h=(e,n)=>t.prompt(e,n),f=(e,n,o,r)=>t.loading(e,n,o,r);return"undefined"!=typeof window&&(window.RojeruAlert=t,window.RoAlert=r,window.roAlert=r,window.ro=r,window.showAlert=e=>r.show(e),window.showSuccess=(e,t,n,o)=>r.success(e,t,n,o),window.showError=(e,t,n,o)=>r.error(e,t,n,o),window.showWarning=(e,t,n,o)=>r.warning(e,t,n,o),window.showInfo=(e,t,n,o)=>r.info(e,t,n,o),window.showQuestion=(e,t,n,o)=>r.question(e,t,n,o),window.showToast=(e,t,n,o)=>r.toast(e,t,n,o),window.showLoading=(e,t,n,o)=>r.loading(e,t,n,o),window.RojeruAlertPluginAnalytics=n,window.RojeruAlertVersion=o,console.log(`✅ RojeruAlert v${o} cargado correctamente`)),"undefined"!=typeof module&&module.exports&&(module.exports=t,module.exports.default=t,module.exports.RojeruAlert=t,module.exports.alert=r,module.exports.VERSION=o,module.exports.AnalyticsPlugin=n),"function"==typeof define&&define.amd&&define("RojeruAlert",[],()=>({default:t,RojeruAlert:t,alert:r,VERSION:o,AnalyticsPlugin:n,show:s,success:i,error:a,warning:l,info:c,question:u,toast:d,prompt:h,loading:f})),e.AnalyticsPlugin=n,e.RojeruAlert=t,e.VERSION=o,e.alert=r,e.default=t,e.error=a,e.info=c,e.loading=f,e.prompt=h,e.question=u,e.show=s,e.success=i,e.toast=d,e.warning=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
