/*!
 * RojeruAlert v1.0.4
 * https://github.com/rojerusan/rojeru-alert
 * (c) 2025 Rogelio Urieta Camacho (RojeruSan)
 * Released under the MIT License
  * MIT License
 *
 * Copyright (c) 2025 Rogelio Urieta Camacho (RojeruSan)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var RojeruAlert=function(e){"use strict";class t{constructor(){this.overlay=null,this.queue=[],this.isActive=!1,this.timeoutIds=new Set,this.alertStack=[],this.stackPosition={top:20,right:20},this.plugins={},this.language="en",this.soundsEnabled=!0,this.texts={es:{accept:"Aceptar",confirm:"¿Estás seguro?",continue:"Sí, continuar",loading:"Cargando...",enterValue:"Ingresa un valor",processing:"Procesando...",countdown:"Cuenta Regresiva",timeCompleted:"¡Tiempo completado!",isRequired:"es requerido",invalidEmail:"Email inválido",invalidFormat:"Formato inválido",formTitle:"Formulario",submit:"Enviar",cancel:"Cancelar",fieldRequired:"Este campo es requerido",validationError:"Error de validación",writeHere:"Escribe aquí...",minLength:"Debe tener al menos {n} caracteres",maxLength:"No puede exceder {n} caracteres"},en:{accept:"OK",confirm:"Are you sure?",continue:"Yes, continue",loading:"Loading...",enterValue:"Enter a value",processing:"Processing...",countdown:"Countdown",timeCompleted:"Time completed!",isRequired:"is required",invalidEmail:"Invalid email",invalidFormat:"Invalid format",formTitle:"Form",submit:"Submit",cancel:"Cancel",fieldRequired:"This field is required",validationError:"Validation error",writeHere:"Write here...",minLength:"Must be at least {n} characters",maxLength:"Cannot exceed {n} characters"}},this.customThemes={},this.init()}init(){document.getElementById("rojeru-alert-overlay")?this.overlay=document.getElementById("rojeru-alert-overlay"):(this.overlay=document.createElement("div"),this.overlay.id="rojeru-alert-overlay",document.body.appendChild(this.overlay)),this.sounds={success:this.createSound(523,.3),error:this.createSound(349,.4),warning:this.createSound(392,.3),info:this.createSound(440,.2),question:this.createSound(494,.3)}}createSound(e,t){return()=>{if(this.soundsEnabled)try{const r=new(window.AudioContext||window.webkitAudioContext),n=r.createOscillator(),o=r.createGain();n.connect(o),o.connect(r.destination),n.frequency.value=e,n.type="sine",o.gain.setValueAtTime(.3,r.currentTime),o.gain.exponentialRampToValueAtTime(.01,r.currentTime+t),n.start(r.currentTime),n.stop(r.currentTime+t)}catch(e){console.warn("Could not play sounds:",e)}}}t(e){return this.texts[this.language]?.[e]||e}changeLanguage(e){if(this.texts[e]&&(this.language=e,this.overlay&&this.overlay.classList.contains("active"))){const e=this.overlay.querySelector(".rojeru-alert-button.confirm"),t=this.overlay.querySelector(".rojeru-alert-button.cancel");e&&(e.textContent=this.t("submit")),t&&(t.textContent=this.t("cancel"))}return this}enableSounds(e=!0){return this.soundsEnabled=e,this}show(e={}){return new Promise(t=>{const r={...e,resolve:t};this.queue.push(r),this.isActive||this.processQueue()})}processQueue(){if(0===this.queue.length)return void(this.isActive=!1);this.isActive=!0;const e=this.queue[0];this.showAlert(e)}showAlert(e={}){const{title:t="",message:r="",type:n="info",theme:o="light",showCancel:s=!1,confirmButtonText:i=("question"===n?this.t("continue"):this.t("accept")),cancelButtonText:a=this.t("cancel"),closeOnClickOutside:l=!0,autoClose:c=0,showProgress:u=!1,enterAnimation:d="zoom",exitAnimation:h="zoom",playSound:m=!0,onOpen:f=null,callback:p=null,resolve:g=null}=e;m&&this.sounds[n]&&this.sounds[n](),this.overlay.innerHTML="",this.overlay.className="";const y={success:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="12" cy="12" r="10" fill="#10B981" opacity="0.15"/>\n                <path d="M8 12.5L10.5 15L16 9" stroke="#10B981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>',error:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <circle cx="12" cy="12" r="10" fill="#EF4444" opacity="0.15"/>\n              <path d="M15 9L9 15M9 9l6 6" stroke="#EF4444" stroke-width="2.5" stroke-linecap="round"/>\n            </svg>',warning:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="12" cy="12" r="10" fill="#F59E0B" opacity="0.15"/>\n                <path d="M12 8v4M12 16h0.01" stroke="#F59E0B" stroke-width="2.5" stroke-linecap="round"/>\n              </svg>',info:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n             <circle cx="12" cy="12" r="10" fill="#3B82F6" opacity="0.15"/>\n             <path d="M12 16v-4M12 8h0.01" stroke="#3B82F6" stroke-width="2.5" stroke-linecap="round"/>\n           </svg>',question:'<svg class="rojeru-alert-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <circle cx="12" cy="12" r="10" fill="#8B5CF6" opacity="0.15"/>\n                  <path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3M12 16.5v.01" stroke="#8B5CF6" stroke-width="2.5" stroke-linecap="round"/>\n                </svg>'},w={success:"Perfect!",error:"Something went wrong",warning:"Attention",info:"Important information",question:this.t("confirm")};let v="";s&&(v+=`<button class="rojeru-alert-button cancel" data-focus="true">${a}</button>`),i&&(v+=`<button class="rojeru-alert-button confirm" data-focus="${!s}">${i}</button>`);const x=c>0&&u?`<div class="rojeru-alert-progress">\n                <div class="rojeru-alert-progress-bar" style="animation-duration: ${c}ms"></div>\n            </div>`:"",b=document.createElement("div");let j;b.className=`rojeru-alert-container rojeru-alert-${n} theme-${o} animation-${d}`,c>0&&u&&b.classList.add("with-progress"),b.innerHTML=`\n            ${y[n]}\n            ${x}\n            <h2 class="rojeru-alert-title">${t||w[n]}</h2>\n            <p class="rojeru-alert-text">${r||{success:"Your action was completed successfully.",error:"There was a problem. Please try again.",warning:"This action is irreversible.",info:"Remember to check the details before continuing.",question:"Are you sure you want to continue?"}[n]}</p>\n            <div class="rojeru-alert-buttons">\n                ${v}\n            </div>\n        `,this.overlay.appendChild(b),this.overlay.offsetWidth,this.overlay.classList.add("active"),b.classList.add("entering"),f&&"function"==typeof f&&setTimeout(()=>{f()},600),c>0&&(j=setTimeout(()=>{this.finalizeAlert(p,g,!0,h)},c),this.timeoutIds.add(j));const $=e=>{l&&e.target===this.overlay&&(j&&(clearTimeout(j),this.timeoutIds.delete(j)),this.finalizeAlert(p,g,!1,h))};l&&this.overlay.addEventListener("click",$);const k=b.querySelector(".confirm"),E=b.querySelector(".cancel");setTimeout(()=>{const e=b.querySelector('[data-focus="true"]');e&&e.focus()},100);const T=()=>{l&&this.overlay.removeEventListener("click",$),j&&(clearTimeout(j),this.timeoutIds.delete(j)),document.removeEventListener("keydown",S)},S=e=>{switch(e.key){case"Escape":e.preventDefault(),T(),E?E.click():this.finalizeAlert(p,g,!1,h);break;case"Enter":e.preventDefault(),k&&k.click();break;case"Tab":e.preventDefault(),this.changeButtonFocus(k,E)}};document.addEventListener("keydown",S),k&&k.addEventListener("click",()=>{if("function"==typeof p){if(!1===p(!0))return}T(),this.finalizeAlert(p,g,!0,h)}),E&&E.addEventListener("click",()=>{if("function"==typeof p){if(!1===p(!1))return}T(),this.finalizeAlert(null,g,!1,h)})}changeButtonFocus(e,t){const r=document.activeElement;r.classList.contains("rojeru-alert-button")&&r===e&&t?t.focus():e&&e.focus()}finalizeAlert(e,t,r,n="zoom"){const o=this.overlay.querySelector(".rojeru-alert-container");o&&(o.className=o.className.replace(/animation-\w+/,`animation-${n}`),o.classList.add("exiting"),setTimeout(()=>{this.overlay.classList.remove("active"),this.overlay.innerHTML="","function"==typeof t&&t(r),this.queue.shift(),setTimeout(()=>this.processQueue(),100)},400))}showEffect(e,t=null){const r=t||document.body;switch(e){case"confetti":this.createConfetti(r);break;case"shine":this.createShineEffect(r);break;case"success":this.createSuccessEffect(r);break;case"pulse":this.createPulseEffect(r);break;case"stars":this.createStarsEffect(r);break;case"fireworks":this.createFireworks(r)}}createConfetti(e){const t=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ff8000","#8000ff"];for(let e=0;e<150;e++){const e=document.createElement("div");e.className="rojeru-alert-confetti";const r=Math.random()*window.innerWidth,n=-20,o=12*Math.random()+6,s=t[Math.floor(Math.random()*t.length)],i=360*Math.random(),a=3*Math.random()+2,l=1.5*Math.random(),c=200*Math.random()-100;e.style.cssText=`\n                position: fixed;\n                width: ${o}px;\n                height: ${o}px;\n                background: ${s};\n                top: ${n}px;\n                left: ${r}px;\n                border-radius: ${Math.random()>.5?"50%":"2px"};\n                opacity: 0.9;\n                animation: rojeru-alert-confetti-fall ${a}s ease-in ${l}s forwards;\n                z-index: 10001;\n                pointer-events: none;\n                transform: rotate(${i}deg);\n                box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n            `,e.setAttribute("data-end-x",c),document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},1e3*(a+l))}}createShineEffect(e){for(let t=0;t<3;t++){const r=document.createElement("div");r.className="rojeru-alert-shine-ring";const n=100+50*t,o=1.5+.3*t,s=.2*t;r.style.cssText=`\n                position: absolute;\n                width: ${n}px;\n                height: ${n}px;\n                border: 3px solid #3b82f6;\n                border-radius: 50%;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                opacity: 0;\n                animation: rojeru-alert-shine-expand ${o}s ease-out ${s}s forwards;\n                pointer-events: none;\n                z-index: 1;\n            `,e&&e.classList.contains("rojeru-alert-container")&&(e.style.position="relative",e.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},1e3*(o+s)))}e&&(e.classList.add("rojeru-alert-shining"),setTimeout(()=>{e.classList.remove("rojeru-alert-shining")},2e3))}createSuccessEffect(e){const t=["#10b981","#34d399","#6ee7b7","#a7f3d0"];for(let e=0;e<25;e++){const r=document.createElement("div");r.className="rojeru-alert-success-particle";const n=e/25*Math.PI*2,o=80+40*Math.random(),s=.8+.7*Math.random(),i=.3*Math.random(),a=6+8*Math.random(),l=t[Math.floor(Math.random()*t.length)],c=Math.cos(n)*o,u=Math.sin(n)*o;r.style.cssText=`\n                position: fixed;\n                width: ${a}px;\n                height: ${a}px;\n                background: ${l};\n                border-radius: 50%;\n                top: 50%;\n                left: 50%;\n                opacity: 0;\n                animation: rojeru-alert-success-explosion ${s}s ease-out ${i}s forwards;\n                z-index: 10001;\n                pointer-events: none;\n                box-shadow: 0 0 10px ${l};\n                transform: translate(0, 0);\n            `,r.setAttribute("data-target-x",c),r.setAttribute("data-target-y",u),document.body.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},1e3*(s+i))}}createPulseEffect(e){if(e){const t=2;for(let r=0;r<t;r++){const t=document.createElement("div");t.className="rojeru-alert-pulse-wave";const n=.4*r;t.style.cssText=`\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    border: 2px solid #f59e0b;\n                    border-radius: 20px;\n                    opacity: 0;\n                    animation: rojeru-alert-pulse-wave-animation 1.2s ease-out ${n}s forwards;\n                    pointer-events: none;\n                    z-index: 1;\n                `,e.style.position="relative",e.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},1200+1e3*n)}e.classList.add("rojeru-alert-pulsing"),setTimeout(()=>{e.classList.remove("rojeru-alert-pulsing")},3e3)}}createStarsEffect(e){const t=["#ffd700","#ffffff","#ff6b6b","#4ecdc4"];for(let r=0;r<15;r++){const r=document.createElement("div");r.className="rojeru-alert-star";const n=Math.random()*Math.PI*2,o=60+40*Math.random(),s=1+1*Math.random(),i=.5*Math.random(),a=4+6*Math.random(),l=t[Math.floor(Math.random()*t.length)],c=Math.cos(n)*o,u=Math.sin(n)*o;r.style.cssText=`\n                position: absolute;\n                width: ${a}px;\n                height: ${a}px;\n                background: ${l};\n                border-radius: 50%;\n                top: 50%;\n                left: 50%;\n                opacity: 0;\n                animation: rojeru-alert-star-twinkle ${s}s ease-in-out ${i}s forwards;\n                z-index: 2;\n                pointer-events: none;\n                box-shadow: 0 0 8px ${l};\n                transform: translate(${c}px, ${u}px) scale(0);\n            `,e.classList.contains("rojeru-alert-container")&&(e.style.position="relative",e.appendChild(r),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},1e3*(s+i)))}}createFireworks(e){for(let e=0;e<5;e++)setTimeout(()=>{const e=100+Math.random()*(window.innerWidth-200),t=100+Math.random()*(window.innerHeight-200);this.createFirework(e,t)},300*e)}createFirework(e,t){const r=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"];for(let n=0;n<30;n++){const o=document.createElement("div");o.className="rojeru-alert-firework-particle";const s=n/30*Math.PI*2,i=40+30*Math.random(),a=1+.5*Math.random(),l=3+4*Math.random(),c=r[Math.floor(Math.random()*r.length)],u=Math.cos(s)*i,d=Math.sin(s)*i;o.style.cssText=`\n                position: fixed;\n                width: ${l}px;\n                height: ${l}px;\n                background: ${c};\n                border-radius: 50%;\n                top: ${t}px;\n                left: ${e}px;\n                opacity: 0;\n                animation: rojeru-alert-firework-explosion ${a}s ease-out forwards;\n                z-index: 10001;\n                pointer-events: none;\n                box-shadow: 0 0 6px ${c};\n                transform: translate(0, 0);\n            `,o.setAttribute("data-target-x",u),o.setAttribute("data-target-y",d),document.body.appendChild(o),setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o)},1e3*a)}}successWithConfetti(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"success",theme:"string"==typeof n?n:"light",callback:o,onOpen:()=>{this.showEffect("confetti"),this.showEffect("success")},...s})}infoWithShine(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"info",theme:"string"==typeof n?n:"light",callback:o,onOpen:()=>{const e=this.overlay.querySelector(".rojeru-alert-container");e&&(this.showEffect("shine",e),this.showEffect("stars",e))},...s})}warningWithPulse(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"warning",theme:"string"==typeof n?n:"light",callback:o,onOpen:()=>{const e=this.overlay.querySelector(".rojeru-alert-container");e&&this.showEffect("pulse",e)},...s})}successWithFireworks(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"success",theme:"string"==typeof n?n:"light",callback:o,onOpen:()=>{this.showEffect("fireworks"),this.showEffect("success")},...s})}toast(e,t=3e3,r="info",n="light"){return this.show({title:"",message:e,type:r,theme:n,showCancel:!1,confirmButtonText:"",closeOnClickOutside:!0,autoClose:t,showProgress:!0,enterAnimation:"slide",exitAnimation:"fade"})}loading(e="",t=this.t("loading"),r="light",n={}){const{type:o="info",size:s="medium"}=n,i={small:"30px",medium:"50px",large:"70px"};return this.show({title:e,message:`\n            <div class="rojeru-alert-loading-container">\n                <div class="rojeru-alert-spinner" style="width: ${i[s]}; height: ${i[s]};"></div>\n                <div class="rojeru-alert-loading-text">${t}</div>\n            </div>\n        `,type:o,theme:r,showCancel:!1,confirmButtonText:"",closeOnClickOutside:!1,enterAnimation:"fade",playSound:!1})}updateLoading(e,t=null){const r=this.overlay.querySelector(".rojeru-alert-loading-container");if(r){const n=r.querySelector(".rojeru-alert-loading-percentage"),o=r.querySelector(".rojeru-alert-loading-text");n&&(n.textContent=`${Math.min(100,Math.max(0,e))}%`),t&&o&&(o.textContent=t)}}prompt(e={},t=null){const{title:r=this.t("enterValue"),message:n="",defaultValue:o="",placeholder:s=this.t("writeHere"),type:i="info",theme:a="light",validation:l=null}=e;return new Promise(e=>{let c=o,u=!1;const d="rojeru-alert-prompt-input-"+Date.now(),h={title:r,message:n+`\n            <div class="rojeru-alert-global-error" id="${d+"-global-error"}" style="display: none;">\n                <div class="rojeru-alert-error-icon">⚠️</div>\n                <div class="rojeru-alert-error-text"></div>\n            </div>\n        `+`\n            <div class="rojeru-alert-input-container">\n                <input type="text"\n                       id="${d}"\n                       class="rojeru-alert-input"\n                       value="${o}"\n                       placeholder="${s}"\n                       autocomplete="off">\n                <div class="rojeru-alert-field-error" id="${d+"-error"}" style="display: none;"></div>\n            </div>\n        `,type:i,theme:a,showCancel:!0,confirmButtonText:this.t("accept"),cancelButtonText:this.t("cancel"),closeOnClickOutside:!1,callback:r=>{if(u)return!1;if(!r)return u=!0,"function"==typeof t&&t(!1,c),e({confirmed:!1,value:c}),!0;this.clearPromptErrors(d);let n="";if(l&&"function"==typeof l){const e=l(c);!0!==e&&(n=e)}if(n){this.showPromptFieldError(d,n);const e=this.overlay.querySelector(".rojeru-alert-container");return e&&(e.classList.add("validation-error"),setTimeout(()=>e.classList.remove("validation-error"),1e3)),setTimeout(()=>{const e=document.getElementById(d);e&&e.focus()},100),!1}return u=!0,"function"==typeof t&&t(!0,c),e({confirmed:!0,value:c}),!0}};this.show(h),setTimeout(()=>{const e=document.getElementById(d);if(!e)return;const t=()=>{c=e.value};e.addEventListener("input",t),e.addEventListener("change",t),e.addEventListener("blur",t),c=e.value,e.addEventListener("keydown",t=>{if("Enter"===t.key){t.preventDefault(),t.stopPropagation(),c=e.value;const r=this.overlay.querySelector(".rojeru-alert-button.confirm");r&&r.click()}else if("Escape"===t.key){t.preventDefault(),t.stopPropagation();const e=this.overlay.querySelector(".rojeru-alert-button.cancel");e&&e.click()}}),["click","mousedown","touchstart"].forEach(t=>{e.addEventListener(t,e=>e.stopPropagation())}),e.focus(),e.select()},150)})}clearPromptErrors(e){const t=document.getElementById(e+"-error");t&&(t.textContent="",t.style.display="none");const r=document.getElementById(e);r&&r.classList.remove("error");const n=document.getElementById(e+"-global-error");n&&(n.style.display="none")}showPromptFieldError(e,t){const r=document.getElementById(e+"-error");if(r){r.textContent=t,r.style.display="block";const n=document.getElementById(e);n&&n.classList.add("error")}}form(e={}){const{title:t=this.t("formTitle"),fields:r=[],confirmButtonText:n=null,cancelButtonText:o=null,validation:s=null,theme:i="light",language:a=null,playSound:l=!0,closeOnClickOutside:c=!1,autoClose:u=0,showProgress:d=!1,enterAnimation:h="zoom",exitAnimation:m="zoom",onOpen:f=null,...p}=e;return new Promise(e=>{const p="rojeru-form-"+Date.now();let g=!1;const y=this.language;a&&this.texts[a]&&(this.language=a);const w=n||this.t("submit"),v=o||this.t("cancel"),x=this.t("writeHere"),b=this.t("fieldRequired");this.t("validationError");let j="";const $=[];r.forEach((e,t)=>{const r=`${p}-field-${t}`;$.push(r);const n=e.type||"text",o=e.placeholder||x,s=e.required?"required":"",i=e.value||"";if("textarea"===n)j+=`\n                    <div class="rojeru-alert-field">\n                        <label for="${r}">${e.label}</label>\n                        <textarea id="${r}" name="${e.name||r}" placeholder="${o}" ${s} class="rojeru-alert-input rojeru-alert-textarea" rows="${e.rows||4}">${i}</textarea>\n                        <div class="rojeru-alert-field-error" id="${r}-error"></div>\n                    </div>\n                `;else if("select"===n){let t="";e.options&&Array.isArray(e.options)&&e.options.forEach(e=>{const r=e.value===i?"selected":"";t+=`<option value="${e.value}" ${r}>${e.label}</option>`}),j+=`\n                    <div class="rojeru-alert-field">\n                        <label for="${r}">${e.label}</label>\n                        <select id="${r}" name="${e.name||r}" ${s} class="rojeru-alert-input rojeru-alert-select">\n                            ${t}\n                        </select>\n                        <div class="rojeru-alert-field-error" id="${r}-error"></div>\n                    </div>\n                `}else{const t="checkbox"===n||"radio"===n?n:"text",a="checkbox"===n&&i?"checked":"";j+=`\n                    <div class="rojeru-alert-field">\n                        <label for="${r}">${e.label}</label>\n                        <input type="${t}" id="${r}" name="${e.name||r}" placeholder="${o}" value="${"checkbox"===t?"":i}" ${s} ${a} class="rojeru-alert-input">\n                        <div class="rojeru-alert-field-error" id="${r}-error"></div>\n                    </div>\n                `}});const k=`${p}-global-error`,E={title:t,message:`\n                <div class="rojeru-alert-form-container">\n                    <form id="${p}" class="rojeru-alert-form">\n                        ${`\n            <div class="rojeru-alert-global-error" id="${k}" style="display: none;">\n                <div class="rojeru-alert-error-icon">⚠️</div>\n                <div class="rojeru-alert-error-text"></div>\n            </div>\n        `}\n                        <div class="rojeru-alert-fields">${j}</div>\n                    </form>\n                </div>\n            `,type:"info",theme:i,showCancel:!0,confirmButtonText:w,cancelButtonText:v,closeOnClickOutside:c,autoClose:u,showProgress:d,enterAnimation:h,exitAnimation:m,playSound:l,onOpen:f,callback:t=>{if(g)return!1;if(!t)return g=!0,this.language=y,e({confirmed:!1,data:{}}),!0;const n=(()=>{const e={};let t=!0,n="",o=null;this.clearFormErrors(p);for(let s=0;s<r.length;s++){const i=r[s],a=$[s],l=i.name||a,c=this.overlay.querySelector(`#${a}`);if(!c)continue;let u="";if("checkbox"===c.type)u=c.checked;else if("radio"===c.type){const e=this.overlay.querySelector(`input[name="${l}"]:checked`);u=e?e.value:""}else u=c.value;if(e[l]=u,i.required&&!u.toString().trim()){t=!1,o=a,n=i.errorMessage||b,this.showFieldError(a,n);break}if(t&&i.validation&&"function"==typeof i.validation){const e=i.validation(u);if(!0!==e){t=!1,o=a,n=e,this.showFieldError(a,e);break}}}if(t&&s&&"function"==typeof s){const r=s(e);!0!==r&&(t=!1,n=r,this.showGlobalError(p,n))}return{isValid:t,finalData:e,errorMessage:n,errorFieldId:o}})();if(!n.isValid){const e=this.overlay.querySelector(".rojeru-alert-container");return e&&(e.classList.add("validation-error"),setTimeout(()=>e.classList.remove("validation-error"),1e3)),n.errorFieldId&&setTimeout(()=>{const e=this.overlay.querySelector(`#${n.errorFieldId}`);e&&e.focus()},100),!1}return g=!0,this.language=y,e({confirmed:!0,data:n.finalData}),!0}};this.show(E),setTimeout(()=>{const e=this.overlay.querySelector(`#${p}`);e&&(setTimeout(()=>{const t=e.querySelector('input:not([type="checkbox"]):not([type="radio"]), textarea, select');t&&(t.focus(),"text"!==t.type&&"TEXTAREA"!==t.tagName||t.select())},200),r.forEach((t,r)=>{const n=$[r],o=e.querySelector(`#${n}`);if(o){const e=()=>{this.showFieldError(n,"");const e=document.getElementById(k);e&&(e.style.display="none")};o.addEventListener("input",e),o.addEventListener("change",e),["checkbox","radio"].includes(o.type)&&o.addEventListener("click",e)}}),e.addEventListener("submit",e=>{e.preventDefault();const t=this.overlay.querySelector(".rojeru-alert-button.confirm");t&&t.click()}))},150)})}clearFormErrors(e){document.querySelectorAll(`[id^="${e}-field-"][id$="-error"]`).forEach(e=>{e.textContent="",e.style.display="none";const t=e.id.replace("-error",""),r=document.getElementById(t);r&&r.classList.remove("error")});const t=document.getElementById(`${e}-global-error`);if(t){t.style.display="none";const e=t.querySelector(".rojeru-alert-error-text");e&&(e.textContent="")}}showFieldError(e,t){const r=document.getElementById(`${e}-error`);if(r){r.textContent=t,r.style.display="block";const n=document.getElementById(e);n&&n.classList.add("error")}}showGlobalError(e,t){const r=document.getElementById(`${e}-global-error`);if(r){const e=r.querySelector(".rojeru-alert-error-text");e&&(e.textContent=t,r.style.display="flex")}}progress(e={}){const{title:t=this.t("processing"),message:r="",duration:n=5e3,onProgress:o=null}=e;return new Promise(e=>{let s=0;const i=100/(n/50),a={title:t,message:`\n                    <div class="rojeru-alert-progress-container">\n                        <div class="rojeru-alert-progress-bar-container">\n                            <div class="rojeru-alert-progress-fill" style="width: 0%"></div>\n                        </div>\n                        <div class="rojeru-alert-progress-text">0%</div>\n                        ${r?`<div class="rojeru-alert-progress-message">${r}</div>`:""}\n                    </div>\n                `,type:"info",showCancel:!1,confirmButtonText:"",closeOnClickOutside:!1,enterAnimation:"fade",playSound:!1};this.show(a);const l=setInterval(()=>{s+=i,s>=100&&(s=100,clearInterval(l),setTimeout(()=>{this.close(),e({completed:!0,progress:100})},500));const t=this.overlay.querySelector(".rojeru-alert-progress-fill"),r=this.overlay.querySelector(".rojeru-alert-progress-text");t&&(t.style.width=s+"%"),r&&(r.textContent=Math.round(s)+"%"),o&&o(s)},50)})}countdown(e={}){const{title:t=this.t("countdown"),seconds:r=10,onTick:n=null,message:o="",completionMessage:s=this.t("timeCompleted")}=e;let i=r;return new Promise(e=>{const s={title:t,message:`\n                    <div class="rojeru-alert-countdown">\n                        <div class="rojeru-alert-time">${i}s</div>\n                        ${o?`<div class="rojeru-alert-message">${o}</div>`:""}\n                    </div>\n                `,type:"warning",showCancel:!0,confirmButtonText:this.t("cancel"),autoClose:1e3*r,callback:t=>{e(t?{completed:!1,timeRemaining:i}:{completed:!0,timeRemaining:0})}};this.show(s);const a=setInterval(()=>{i--;const e=this.overlay.querySelector(".rojeru-alert-time");e&&(e.textContent=i+"s",i<=5&&e.classList.add("urgent")),n&&n(i),i<=0&&clearInterval(a)},1e3)})}stack(e={}){const{message:t="",type:r="info",theme:n="light",autoClose:o=5e3,position:s="top-right",enterAnimation:i="slide",exitAnimation:a="fade"}=e,l="rojeru-stack-"+Date.now(),c=document.createElement("div");return c.className=`rojeru-alert-stack-item rojeru-alert-${r} theme-${n} animation-${i}`,c.id=l,c.innerHTML=`\n            <div class="rojeru-alert-stack-content">\n                <span class="rojeru-alert-stack-message">${t}</span>\n                <button class="rojeru-alert-stack-close">&times;</button>\n            </div>\n        `,this.updateStackPosition(s,c),document.body.appendChild(c),setTimeout(()=>c.classList.add("entering"),10),c.querySelector(".rojeru-alert-stack-close").addEventListener("click",()=>{this.closeStackItem(l,a)}),o>0&&setTimeout(()=>{this.closeStackItem(l,a)},o),this.alertStack.push(l),l}updateStackPosition(e,t){const r={"top-right":{top:"20px",right:"20px",left:"auto"},"top-left":{top:"20px",left:"20px",right:"auto"},"bottom-right":{bottom:"20px",right:"20px",left:"auto"},"bottom-left":{bottom:"20px",left:"20px",right:"auto"}};Object.assign(t.style,r[e]||r["top-right"])}closeStackItem(e,t){const r=document.getElementById(e);r&&(r.classList.add("exiting"),setTimeout(()=>{r.remove(),this.alertStack=this.alertStack.filter(t=>t!==e)},400))}registerTheme(e,t){return this.customThemes[e]=t,this.applyThemeStyles(e,t),this}applyThemeStyles(e,t){const r=`rojeru-theme-${e}`;if(document.getElementById(r))return;const n=document.createElement("style");n.id=r,n.textContent=`\n            .rojeru-alert-container.theme-${e} {\n                background: ${t.background};\n                color: ${t.text};\n                border: ${t.border||"none"};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-title {\n                color: ${t.title||t.text};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-text {\n                color: ${t.subtext||t.text};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-button.confirm {\n                background: ${t.primaryButton};\n                color: ${t.buttonText||"white"};\n            }\n            .rojeru-alert-container.theme-${e} .rojeru-alert-button.cancel {\n                background: ${t.secondaryButton||"#f1f5f9"};\n                color: ${t.secondaryButtonText||"#475569"};\n            }\n        `,document.head.appendChild(n)}use(e,t={}){return"function"==typeof e.install&&(e.install(this,t),this.plugins[e.name]={plugin:e,options:t}),this}close(){this.finalizeAlert(null,null,!1,"zoom")}clearQueue(){return this.queue=[],this.isActive=!1,this}getQueueLength(){return this.queue.length}clearTimeouts(){return this.timeoutIds.forEach(e=>{clearTimeout(e)}),this.timeoutIds.clear(),this}clearAllStack(){return this.alertStack.forEach(e=>{const t=document.getElementById(e);t&&t.remove()}),this.alertStack=[],this}success(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"success",theme:"string"==typeof n?n:"light",callback:o,...s})}error(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"error",theme:"string"==typeof n?n:"light",callback:o,...s})}warning(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"warning",theme:"string"==typeof n?n:"light",callback:o,...s})}info(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"info",theme:"string"==typeof n?n:"light",callback:o,...s})}question(e="",t="",r={},n="light"){let o=null,s={};return"function"==typeof r?o=r:"object"==typeof r&&(s=r,o=n),this.show({title:e,message:t,type:"question",theme:"string"==typeof n?n:"light",showCancel:!0,callback:o,...s})}static show(e={}){return(new t).show(e)}static success(e="",r="",n={},o="light"){return(new t).success(e,r,n,o)}static error(e="",r="",n={},o="light"){return(new t).error(e,r,n,o)}static warning(e="",r="",n={},o="light"){return(new t).warning(e,r,n,o)}static info(e="",r="",n={},o="light"){return(new t).info(e,r,n,o)}static question(e="",r="",n={},o="light"){return(new t).question(e,r,n,o)}static toast(e,r=3e3,n="info",o="light"){return(new t).toast(e,r,n,o)}static prompt(e={},r=null){return(new t).prompt(e,r)}static form(e={}){return(new t).form(e)}static stack(e={}){return(new t).stack(e)}static progress(e={}){return(new t).progress(e)}static countdown(e={}){return(new t).countdown(e)}static successWithConfetti(e="",r="",n={},o="light"){return(new t).successWithConfetti(e,r,n,o)}static infoWithShine(e="",r="",n={},o="light"){return(new t).infoWithShine(e,r,n,o)}static warningWithPulse(e="",r="",n={},o="light"){return(new t).warningWithPulse(e,r,n,o)}static successWithFireworks(e="",r="",n={},o="light"){return(new t).successWithFireworks(e,r,n,o)}static showEffect(e,r=null){(new t).showEffect(e,r)}}const r={name:"analytics",install:(e,t)=>{const r=e.show.bind(e);e.show=function(e){return e.tracking&&console.log("Alert shown:",{type:e.type,timestamp:(new Date).toISOString(),...e.metadata}),r(e)}}},n="1.0.7",o=new t,s=e=>t.show(e),i=(e,r,n,o)=>t.success(e,r,n,o),a=(e,r,n,o)=>t.error(e,r,n,o),l=(e,r,n,o)=>t.warning(e,r,n,o),c=(e,r,n,o)=>t.info(e,r,n,o),u=(e,r,n,o)=>t.question(e,r,n,o),d=(e,r,n,o)=>t.toast(e,r,n,o),h=(e,r)=>t.prompt(e,r),m=(e,r,n,o)=>t.loading(e,r,n,o);return"undefined"!=typeof window&&(window.RojeruAlert=t,window.RoAlert=o,window.roAlert=o,window.ro=o,window.showAlert=e=>o.show(e),window.showSuccess=(e,t,r,n)=>o.success(e,t,r,n),window.showError=(e,t,r,n)=>o.error(e,t,r,n),window.showWarning=(e,t,r,n)=>o.warning(e,t,r,n),window.showInfo=(e,t,r,n)=>o.info(e,t,r,n),window.showQuestion=(e,t,r,n)=>o.question(e,t,r,n),window.showToast=(e,t,r,n)=>o.toast(e,t,r,n),window.showLoading=(e,t,r,n)=>o.loading(e,t,r,n),window.RojeruAlertPluginAnalytics=r,window.RojeruAlertVersion=n),"undefined"!=typeof module&&module.exports&&(module.exports=t,module.exports.default=t,module.exports.RojeruAlert=t,module.exports.alert=o,module.exports.VERSION=n,module.exports.AnalyticsPlugin=r),"function"==typeof define&&define.amd&&define("RojeruAlert",[],()=>({default:t,RojeruAlert:t,alert:o,VERSION:n,AnalyticsPlugin:r,show:s,success:i,error:a,warning:l,info:c,question:u,toast:d,prompt:h,loading:m})),e.AnalyticsPlugin=r,e.RojeruAlert=t,e.VERSION=n,e.alert=o,e.default=t,e.error=a,e.info=c,e.loading=m,e.prompt=h,e.question=u,e.show=s,e.success=i,e.toast=d,e.warning=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
